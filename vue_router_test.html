<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vue Router Test</title>
    <style>
        body { font-family: Arial; padding: 20px; }
        .test-result { margin: 10px 0; padding: 10px; border-radius: 5px; }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
        nav { margin-bottom: 20px; }
        nav a { margin-right: 15px; padding: 5px 10px; background: #007bff; color: white; text-decoration: none; border-radius: 3px; }
    </style>
</head>
<body>
    <h1>ðŸ§ª Vue Router Test</h1>

    <div id="app">
        <nav>
            <router-link to="/">Home</router-link>
            <router-link to="/test">Test</router-link>
            <router-link to="/analytics">Analytics</router-link>
        </nav>

        <div id="test-results">
            <div class="test-result success">Vue.js loaded successfully</div>
        </div>

        <router-view></router-view>
    </div>

    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://unpkg.com/vue-router@4/dist/vue-router.global.js"></script>

    <script>
        const { createApp } = Vue;
        const { createRouter, createWebHistory } = VueRouter;

        // Define routes
        const routes = [
            { path: '/', component: { template: '<div><h2>Home Page</h2><p>This is the home page.</p></div>' } },
            { path: '/test', component: { template: '<div><h2>Test Page</h2><p>This is a test page.</p></div>' } },
            { path: '/analytics', component: { template: '<div><h2>Analytics Page</h2><p>This is the analytics page.</p></div>' } }
        ];

        // Create router
        const router = createRouter({
            history: createWebHistory(),
            routes
        });

        // Test router functionality
        const testResults = document.getElementById('test-results');

        function addTestResult(message, success = true) {
            const div = document.createElement('div');
            div.className = `test-result ${success ? 'success' : 'error'}`;
            div.textContent = message;
            testResults.appendChild(div);
        }

        // Test router creation
        try {
            addTestResult('Router created successfully');
        } catch (error) {
            addTestResult('Router creation failed: ' + error.message, false);
        }

        // Test route navigation
        router.afterEach((to, from) => {
            addTestResult(`Navigated to: ${to.path}`);
        });

        // Create and mount app
        const app = createApp({
            template: `
                <div>
                    <nav>
                        <router-link to="/">Home</router-link>
                        <router-link to="/test">Test</router-link>
                        <router-link to="/analytics">Analytics</router-link>
                    </nav>
                    <div id="test-results"></div>
                    <router-view></router-view>
                </div>
            `
        });

        app.use(router);

        try {
            app.mount('#app');
            addTestResult('Vue app mounted successfully');
        } catch (error) {
            addTestResult('Vue app mount failed: ' + error.message, false);
        }

        // Test programmatic navigation
        setTimeout(() => {
            try {
                router.push('/test');
                setTimeout(() => {
                    router.push('/analytics');
                }, 1000);
            } catch (error) {
                addTestResult('Programmatic navigation failed: ' + error.message, false);
            }
        }, 1000);
    </script>
</body>
</html>